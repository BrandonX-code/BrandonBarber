<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Barber.Maui.BrandonBarber.Pages.FormBarberiaPage" xmlns:controls="clr-namespace:Barber.Maui.BrandonBarber.Controls" Grid.RowSpan="1">
    <Grid>
        <Grid.Background>
            <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                <GradientStop Color="#0E2A36" Offset="0.0" />
                <GradientStop Color="#265d82" Offset="1.0" />
            </LinearGradientBrush>
        </Grid.Background>
        <ScrollView VerticalScrollBarVisibility="Never" HorizontalScrollBarVisibility="Never" Padding="20">
            <StackLayout Spacing="20">
                <Label Text="{Binding PageTitle}" Style="{StaticResource TitleStyle}" Margin="0,0,0,10"/>

                <Border StrokeShape="RoundRectangle 10" StrokeThickness="0" HeightRequest="240">
                    <Grid>
                        <Image Source="fondoblancoborder.jpg" Aspect="Fill" />
                        <StackLayout Spacing="15" Padding="10">
                            <Label Text="Logo de la Barbería" TextColor="Black" HorizontalOptions="Center" FontSize="15"/>
                            <Border WidthRequest="120" HeightRequest="120" StrokeShape="RoundRectangle 10" Padding="0" BackgroundColor="{StaticResource TertiaryBackground}" HorizontalOptions="Center" StrokeThickness="0">
                                <Image x:Name="LogoImage" Source="{Binding LogoUrl, TargetNullValue='picture.png'}" Aspect="AspectFill"/>
                                <Border.GestureRecognizers>
                                    <TapGestureRecognizer Tapped="OnSelectLogoTapped"/>
                                </Border.GestureRecognizers>
                            </Border>
                            <Button Text="Seleccionar Logo" Style="{StaticResource PrimaryButtonStyle}" Clicked="OnSelectLogoClicked"/>
                        </StackLayout>
                    </Grid>
                </Border>

                <Border StrokeShape="RoundRectangle 10" StrokeThickness="0" HeightRequest="350">
                    <Grid>
                        <Image Source="fondoblancoborder.jpg" Aspect="Fill" />
                        <StackLayout Spacing="15" Padding="10">
                            <StackLayout Spacing="5">
                                <Label Text="Nombre de la Barbería *" />
                                <Border BackgroundColor="White" StrokeShape="RoundRectangle 10" StrokeThickness="0"  Padding="0" HorizontalOptions="Fill" VerticalOptions="Fill">
                                    <Border.Shadow>
                                        <Shadow Brush="Black" Offset="0,2" Radius="5" Opacity="0.5" />
                                    </Border.Shadow>
                                    <Entry Text="{Binding Nombre}" Margin="10,0" Placeholder="Ingresa el nombre" Style="{StaticResource RequiredEntryStyle}" TextColor="Black"/>
                                </Border>
                            </StackLayout>
                            <StackLayout Spacing="5">
                                <Label Text="Teléfono *" />
                                <Border BackgroundColor="White" StrokeShape="RoundRectangle 10" StrokeThickness="0"  Padding="0"  HorizontalOptions="Fill" VerticalOptions="Fill">
                                    <Border.Shadow>
                                        <Shadow Brush="Black" Offset="0,2" Radius="5" Opacity="0.5" />
                                    </Border.Shadow>
                                    <Entry Text="{Binding Telefono}" Margin="10,0" Placeholder="Ej: 300 123 4567" Style="{StaticResource RequiredEntryStyle}" Keyboard="Telephone" TextColor="Black"/>
                                </Border>
                            </StackLayout>
                            <StackLayout Spacing="5">
                                <Label Text="Dirección *" />
                                <Border BackgroundColor="White" StrokeShape="RoundRectangle 10" StrokeThickness="0"  Padding="0"  HorizontalOptions="Fill" VerticalOptions="Fill">
                                    <Border.Shadow>
                                        <Shadow Brush="Black" Offset="0,2" Radius="5" Opacity="0.5" />
                                    </Border.Shadow>
                                    <Entry Text="{Binding Direccion}" Margin="10,0" Placeholder="Ingresa la dirección completa" Style="{StaticResource RequiredEntryStyle}" TextColor="Black"/>
                                </Border>
                            </StackLayout>
                            <StackLayout Spacing="5">
                                <Label Text="Email" />
                                <Border BackgroundColor="White" StrokeShape="RoundRectangle 10" StrokeThickness="0"  Padding="0"  HorizontalOptions="Fill" VerticalOptions="Fill">
                                    <Border.Shadow>
                                        <Shadow Brush="Black" Offset="0,2" Radius="5" Opacity="0.5" />
                                    </Border.Shadow>
                                    <Entry Text="{Binding Email}" Margin="10,0" Placeholder="contacto@barberia.com" Style="{StaticResource FormEntryStyle}" Keyboard="Email" TextColor="Black"/>
                                </Border>
                            </StackLayout>
                        </StackLayout>
                    </Grid>
                </Border>

                <StackLayout Spacing="10" Margin="0,10,0,20" Orientation="Horizontal" HorizontalOptions="Center">
                    <Button Text="{Binding SaveButtonText}" Style="{StaticResource PrimaryButtonStyle}" Clicked="OnGuardarClicked" IsEnabled="{Binding CanSave}"/>
                    <Button Text="Cancelar" Style="{StaticResource SecondaryButtonStyleFormBarberiaPage}" Clicked="OnCancelarClicked"/>
                </StackLayout>

                <Label x:Name="ErrorLabel" TextColor="#ff0000" FontSize="14" HorizontalOptions="Center" IsVisible="False"/>
            </StackLayout>
        </ScrollView>
        <controls:LoadingControl x:Name="LoadingIndicator" IsVisible="False"/>
    </Grid>
</ContentPage>