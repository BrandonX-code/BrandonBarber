<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"  
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Barber.Maui.BrandonBarber.Pages.InicioPages" xmlns:controls="clr-namespace:Barber.Maui.BrandonBarber.Controls" Grid.RowSpan="1"
             NavigationPage.HasNavigationBar="False">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>
        <Grid.Background>
            <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                <GradientStop Color="#0E2A36" Offset="0.0" />
                <GradientStop Color="#236394" Offset="1.0" />
            </LinearGradientBrush>
        </Grid.Background>
        <Grid Grid.Row="0" HeightRequest="190" x:Name="HeaderGrid">
            <Grid.Background>
                <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                    <GradientStop Color="#0E2A36" Offset="0.0" />
                    <GradientStop Color="#265d82" Offset="1.0" />
                </LinearGradientBrush>
            </Grid.Background>
            <Grid Padding="20,10,20,50" ColumnDefinitions="*,Auto">
                <Label x:Name="WelcomeLabel" Grid.Column="0" MaxLines="2" FontSize="20" TextColor="#E0F7FA" FontAttributes="Bold" VerticalOptions="Center" LineBreakMode="TailTruncation" Margin="0,5,0,0" />
                <Border Grid.Column="1" BackgroundColor="#F0F0F0" StrokeShape="RoundRectangle 50" HeightRequest="70" WidthRequest="70" HorizontalOptions="End" StrokeThickness="0" VerticalOptions="Center">
                    <Image x:Name="UsuarioImagenProfile" Aspect="AspectFill" />
                    <Border.GestureRecognizers>
                        <TapGestureRecognizer Tapped="PerfilPage" />
                    </Border.GestureRecognizers>
                </Border>
            </Grid>
        </Grid>
        <Grid Grid.Row="1" x:Name="ContentContainer">
            <ScrollView VerticalScrollBarVisibility="Never" HorizontalScrollBarVisibility="Never">
                <VerticalStackLayout>

                    <!-- ClienteView -->
                    <VerticalStackLayout x:Name="ClienteView" IsVisible="false" Padding="20" Spacing="10">
                        <VerticalStackLayout Padding="0">
                            <Label Text="Servicios"  TextColor="White" 
                                       FontSize="22" 
                                       FontAttributes="Bold" 
                                       HorizontalOptions="Start"/>

                            <CollectionView VerticalScrollBarVisibility="Never" HorizontalScrollBarVisibility="Never" x:Name="ServiciosCarousel" HeightRequest="240">
                                <CollectionView.ItemsLayout>
                                    <LinearItemsLayout Orientation="Horizontal" ItemSpacing="20"/>
                                </CollectionView.ItemsLayout>
                                <CollectionView.ItemTemplate>
                                    <DataTemplate>
                                        <Border StrokeShape="RoundRectangle 20"  BackgroundColor="#e6ebf5" Padding="-1" HeightRequest="220" WidthRequest="190"  StrokeThickness="0">
                                            <Border.GestureRecognizers>
                                                <TapGestureRecognizer Tapped="OnServicioSelected"/>
                                            </Border.GestureRecognizers>
                                            <Grid RowSpacing="0">
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="*" />
                                                    <RowDefinition Height="50" />
                                                </Grid.RowDefinitions>
                                                <Border Grid.Row="0" BackgroundColor="White" StrokeShape="RoundRectangle 6"  HeightRequest="175"  WidthRequest="195"  HorizontalOptions="Center"  Padding="0" StrokeThickness="0">
                                                    <Image Grid.Row="0" Source="{Binding Imagen}" Aspect="AspectFill" HeightRequest="175" WidthRequest="195">
                                                        <Image.Clip>
                                                            <RoundRectangleGeometry CornerRadius="6" Rect="0,0,195,195"/>
                                                        </Image.Clip>
                                                    </Image>
                                                </Border>
                                                <Grid Grid.Row="1">
                                                    <Image Source="fondoblancoborder.jpg" Aspect="AspectFill"/>
                                                    <StackLayout Spacing="0" VerticalOptions="Center">
                                                        <Label Text="{Binding Nombre}" FontAttributes="Bold" FontSize="16" TextColor="Black" HorizontalOptions="Center" LineBreakMode="TailTruncation" MaxLines="1"/>
                                                        <Label Text="{Binding Precio, StringFormat='${0:N0}'}" TextColor="Black" FontSize="16" HorizontalOptions="Center"/>
                                                    </StackLayout>

                                                </Grid>

                                            </Grid>
                                        </Border>
                                    </DataTemplate>
                                </CollectionView.ItemTemplate>
                            </CollectionView>
                            <Label x:Name="NoServiciosLabel" Text="No hay servicios disponibles en este momento" TextColor="#E0F7FA" FontSize="16" HorizontalOptions="Center" VerticalOptions="Center" Margin="0,20,0,0" IsVisible="False"/>
                        </VerticalStackLayout>
                        <VerticalStackLayout Spacing="5" Padding="0">
                            <Label Text="Barberos" TextColor="White" FontSize="22"  FontAttributes="Bold"  HorizontalOptions="Start"/>

                            <CollectionView x:Name="BarberosCollectionView" HeightRequest="320" VerticalScrollBarVisibility="Never" HorizontalScrollBarVisibility="Never">
                                <CollectionView.ItemsLayout>
                                    <LinearItemsLayout Orientation="Horizontal" ItemSpacing="20"/>
                                </CollectionView.ItemsLayout>

                                <CollectionView.ItemTemplate>
                                    <DataTemplate>
                                        <Border HeightRequest="300" WidthRequest="182" StrokeShape="RoundRectangle 20" StrokeThickness="0">
                                            <Border.GestureRecognizers>
                                                <TapGestureRecognizer Tapped="OnBarberoSelected" CommandParameter="{Binding .}"/>
                                            </Border.GestureRecognizers>

                                            <Grid Clip="RoundRectangle 20">
                                                <Image Source="fondoblancoborder.jpg" Aspect="AspectFill"/>

                                                <Grid Padding="20" RowSpacing="10">
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="170"/>
                                                        <RowDefinition Height="Auto"/>
                                                        <RowDefinition Height="Auto"/>
                                                        <RowDefinition Height="Auto"/>
                                                    </Grid.RowDefinitions>

                                                    <Border Grid.Row="0" BackgroundColor="#F0F0F0" StrokeShape="RoundRectangle 6" HeightRequest="170" WidthRequest="140" HorizontalOptions="Center" StrokeThickness="0">
                                                        <Image Source="{Binding ImagenPath}" Aspect="AspectFill"/>
                                                    </Border>

                                                    <Label Grid.Row="1" Text="{Binding Nombre}" FontSize="15" FontAttributes="Bold" TextColor="Black" MaxLines="1" LineBreakMode="TailTruncation"/>

                                                    <HorizontalStackLayout Grid.Row="2" Spacing="1">
                                                        <Image Source="starblackrellena.png" HeightRequest="20" WidthRequest="20">
                                                            <Image.Triggers>
                                                                <DataTrigger TargetType="Image" Binding="{Binding CalificacionPromedio}" Value="0">
                                                                    <Setter Property="Source" Value="starblacksinrelleno.png"/>
                                                                </DataTrigger>
                                                            </Image.Triggers>
                                                        </Image>
                                                        <Image Source="starblackrellena.png" HeightRequest="20" WidthRequest="20">
                                                            <Image.Triggers>
                                                                <DataTrigger TargetType="Image" Binding="{Binding CalificacionPromedio, Converter={StaticResource LessThanConverter}, ConverterParameter=2}" Value="True">
                                                                    <Setter Property="Source" Value="starblacksinrelleno.png"/>
                                                                </DataTrigger>
                                                            </Image.Triggers>
                                                        </Image>
                                                        <Image Source="starblackrellena.png" HeightRequest="20" WidthRequest="20">
                                                            <Image.Triggers>
                                                                <DataTrigger TargetType="Image" Binding="{Binding CalificacionPromedio, Converter={StaticResource LessThanConverter}, ConverterParameter=3}" Value="True">
                                                                    <Setter Property="Source" Value="starblacksinrelleno.png"/>
                                                                </DataTrigger>
                                                            </Image.Triggers>
                                                        </Image>
                                                        <Image Source="starblackrellena.png" HeightRequest="20" WidthRequest="20">
                                                            <Image.Triggers>
                                                                <DataTrigger TargetType="Image" Binding="{Binding CalificacionPromedio, Converter={StaticResource LessThanConverter}, ConverterParameter=4}" Value="True">
                                                                    <Setter Property="Source" Value="starblacksinrelleno.png"/>
                                                                </DataTrigger>
                                                            </Image.Triggers>
                                                        </Image>
                                                        <Image Source="starblackrellena.png" HeightRequest="20" WidthRequest="20">
                                                            <Image.Triggers>
                                                                <DataTrigger TargetType="Image" Binding="{Binding CalificacionPromedio, Converter={StaticResource LessThanConverter}, ConverterParameter=5}" Value="True">
                                                                    <Setter Property="Source" Value="starblacksinrelleno.png"/>
                                                                </DataTrigger>
                                                            </Image.Triggers>
                                                        </Image>
                                                    </HorizontalStackLayout>

                                                    <StackLayout Grid.Row="3" Orientation="Horizontal" HorizontalOptions="End" Margin="0,-5,0,0" Spacing="5">
                                                        <Label Text="Ver Más" FontSize="13" TextColor="Blue" TextDecorations="Underline"/>
                                                        <Image Source="choose.png" HeightRequest="17" WidthRequest="17"/>
                                                    </StackLayout>
                                                </Grid>
                                            </Grid>
                                        </Border>
                                    </DataTemplate>
                                </CollectionView.ItemTemplate>
                            </CollectionView>

                            <Label x:Name="NoBarberosLabel" Text="No hay barberos disponibles en este momento" TextColor="#E0F7FA" FontSize="16" HorizontalOptions="Center" VerticalOptions="Center" Margin="0,20,0,0" IsVisible="False"/>

                        </VerticalStackLayout>
                        <Border StrokeShape="RoundRectangle 10" Padding="0" StrokeThickness="0" HeightRequest="90">
                            <Border.GestureRecognizers>
                                <TapGestureRecognizer Tapped="BuscarCitas" />
                            </Border.GestureRecognizers>
                            <Grid>
                                <Image Source="fondoblancoborder.jpg" Aspect="AspectFill" />
                                <Grid ColumnDefinitions="Auto,*,Auto" Padding="15" VerticalOptions="Center">

                                    <Image Grid.Column="0" Source="buscarcitas.png" WidthRequest="35"  HeightRequest="35" />
                                    <Label Grid.Column="1"  Text="Buscar Tus Citas" TextColor="Black" FontSize="25" VerticalOptions="Center" Margin="10,0,0,0"/>
                                    <Image Grid.Column="2" Source="chevron.png" WidthRequest="30" HeightRequest="30" />
                                </Grid>
                            </Grid>
                        </Border>
                        <Border x:Name="GaleriaClienteBorder" StrokeShape="RoundRectangle 10" Padding="0" StrokeThickness="0" HeightRequest="90">
                            <Border.GestureRecognizers>
                                <TapGestureRecognizer Tapped="Galery" />
                            </Border.GestureRecognizers>
                            <Grid>
                                <Image Source="fondoblancoborder.jpg" Aspect="AspectFill" />
                                <Grid ColumnDefinitions="Auto,*,Auto" Padding="15" VerticalOptions="Center">

                                    <Image Grid.Column="0" Source="galeriadecorte.png" WidthRequest="35"  HeightRequest="35" />
                                    <Label Grid.Column="1"  Text="Galeria De Cortes" TextColor="Black" FontSize="25" VerticalOptions="Center" Margin="10,0,0,0"/>
                                    <Image Grid.Column="2" Source="chevron.png" WidthRequest="30" HeightRequest="30" />
                                </Grid>
                            </Grid>
                        </Border>

                    </VerticalStackLayout>

                    <!-- BarberoView -->
                    <VerticalStackLayout x:Name="BarberoView" IsVisible="false" Padding="20" Spacing="20">

                        <Grid>
                            <Border  StrokeShape="RoundRectangle 10" Padding="0" HeightRequest="90" StrokeThickness="0">
                                <Border.GestureRecognizers>
                                    <TapGestureRecognizer Tapped="CitasList" />
                                </Border.GestureRecognizers>
                                <Grid>
                                    <Image Source="fondoblancoborder.jpg" Aspect="AspectFill" />
                                    <Grid ColumnDefinitions="Auto,*,Auto" Padding="15" VerticalOptions="Center">
                                        <Image Grid.Column="0" Source="tuscitas.png" WidthRequest="30" HeightRequest="30" />
                                        <Label Grid.Column="1" Text="Tus Citas" TextColor="Black" FontSize="25" VerticalOptions="Center" Margin="10,0,0,0"/>
                                        <Image Grid.Column="2" Source="chevron.png" WidthRequest="30" HeightRequest="30" />
                                    </Grid>
                                </Grid>
                            </Border>

                            <Border x:Name="BadgeCitasMes" IsVisible="True" BackgroundColor="Red" StrokeShape="RoundRectangle 20" Padding="10,5" StrokeThickness="0" HorizontalOptions="End" VerticalOptions="Start" Margin="0,-10,-10,0">
                                <Label x:Name="NumeroCitasMes" Text="1" TextColor="White" FontAttributes="Bold" HorizontalOptions="Center" VerticalOptions="Center"/>
                            </Border>
                        </Grid>
                        <Grid>
                            <Border StrokeShape="RoundRectangle 10" HeightRequest="90" StrokeThickness="0">
                                <Border.GestureRecognizers>
                                    <TapGestureRecognizer Tapped="GestionarCitasBarbero" />
                                </Border.GestureRecognizers>
                                <Grid>
                                    <Image Source="fondoblancoborder.jpg" Aspect="AspectFill" />

                                    <Grid ColumnDefinitions="Auto,*,Auto" Padding="15" VerticalOptions="Center">
                                        <Image Grid.Column="0" Source="gestionarcitas.png" WidthRequest="30" HeightRequest="30" />
                                        <Label Grid.Column="1" Text="Gestionar Citas" TextColor="Black" FontSize="25" VerticalOptions="Center" Margin="10,0,0,0"/>
                                        <Image Grid.Column="2" Source="chevron.png" WidthRequest="30" HeightRequest="30" />
                                    </Grid>
                                </Grid>
                            </Border>

                            <Border x:Name="BadgeGestionarCitasMes" IsVisible="True" BackgroundColor="Red" StrokeShape="RoundRectangle 20" Padding="10,5" StrokeThickness="0" HorizontalOptions="End" VerticalOptions="Start" Margin="0,-10,-10,0">
                                <Label x:Name="NumeroGestionarCitasMes" Text="1" TextColor="White" FontAttributes="Bold" HorizontalOptions="Center" VerticalOptions="Center"/>
                            </Border>
                        </Grid>

                        <Border BackgroundColor="#90A4AE" StrokeShape="RoundRectangle 10" HeightRequest="90" StrokeThickness="0" >
                            <Border.GestureRecognizers>
                                <TapGestureRecognizer Tapped="GestionarDisponibilidad" />
                            </Border.GestureRecognizers>
                            <Grid>
                                <Image Source="fondoblancoborder.jpg" Aspect="AspectFill" />

                                <Grid ColumnDefinitions="Auto,*,Auto" Padding="15" VerticalOptions="Center">
                                    <Image Grid.Column="0" Source="gestionardisponibilidad.png" WidthRequest="30" HeightRequest="30" />
                                    <Label Grid.Column="1" Text="Gestionar Disponibilidad" TextColor="Black" FontSize="24" VerticalOptions="Center" Margin="10,0,0,0"/>
                                    <Image Grid.Column="2" Source="chevron.png" WidthRequest="30" HeightRequest="30" />
                                </Grid>
                            </Grid>
                        </Border>
                        <!-- En BarberoView, agregar después del botón de "Gestionar Disponibilidad" -->
                        <Border BackgroundColor="#90A4AE" StrokeShape="RoundRectangle 10" HeightRequest="90" StrokeThickness="0">
                            <Border.GestureRecognizers>
                                <TapGestureRecognizer Tapped="GestionarExcepciones" />
                            </Border.GestureRecognizers>
                            <Grid>
                                <Image Source="fondoblancoborder.jpg" Aspect="AspectFill" />

                                <Grid ColumnDefinitions="Auto,*,Auto" Padding="15" VerticalOptions="Center">
                                    <Image Grid.Column="0" Source="diasnodisponible.png" WidthRequest="30" HeightRequest="30" />
                                    <Label Grid.Column="1" Text="Días No Disponibles" TextColor="Black" FontSize="24" VerticalOptions="Center" Margin="10,0,0,0"/>
                                    <Image Grid.Column="2" Source="chevron.png" WidthRequest="30" HeightRequest="30" />
                                </Grid>
                            </Grid>
                        </Border>
                        <Border BackgroundColor="#90A4AE" StrokeShape="RoundRectangle 10" HeightRequest="90" StrokeThickness="0" >
                            <Border.GestureRecognizers>
                                <TapGestureRecognizer Tapped="AddGaleri" />
                            </Border.GestureRecognizers>
                            <Grid>
                                <Image Source="fondoblancoborder.jpg" Aspect="AspectFill" />

                                <Grid ColumnDefinitions="Auto,*,Auto" Padding="15" VerticalOptions="Center">
                                    <Image Grid.Column="0" Source="agregarimagen.png" WidthRequest="30" HeightRequest="30" />
                                    <Label Grid.Column="1" Text="Agregar Corte" TextColor="Black" FontSize="25" VerticalOptions="Center" Margin="10,0,0,0"/>
                                    <Image Grid.Column="2" Source="chevron.png" WidthRequest="30" HeightRequest="30" />
                                </Grid>
                            </Grid>
                        </Border>

                    </VerticalStackLayout>

                    <!-- AdminView -->
                    <VerticalStackLayout x:Name="AdminView" IsVisible="false" Padding="20" Spacing="17">

                        <!-- Nueva sección de Métricas -->
                        <Label Text="Métricas y Estadísticas" FontSize="18" TextColor="#E0F7FA" FontAttributes="Bold" Margin="0,20,0,0" />

                        <Border StrokeShape="RoundRectangle 10" Padding="0" StrokeThickness="0" HeightRequest="90">
                            <Border.GestureRecognizers>
                                <TapGestureRecognizer Tapped="VerMetricas" />
                            </Border.GestureRecognizers>
                            <Grid>
                                <Image Source="fondoblancoborder.jpg" Aspect="AspectFill" />
                                <Grid ColumnDefinitions="Auto,*,Auto" Padding="15" VerticalOptions="Center">

                                    <Image Grid.Column="0" Source="dashboardmetric.png" WidthRequest="40" HeightRequest="40" />
                                    <Label Grid.Column="1" Text="Dashboard de Métricas" TextColor="Black" FontSize="20" VerticalOptions="Center" Margin="10,0,0,0"/>
                                    <Image Grid.Column="2" Source="chevron.png" WidthRequest="30" HeightRequest="30" />
                                </Grid>
                            </Grid>
                        </Border>
                        <!-- Gestión de Barberos -->
                        <Label Text="Gestión de Barberos" FontSize="18" TextColor="#E0F7FA" FontAttributes="Bold" />

                        <Border BackgroundColor="#90A4AE" StrokeShape="RoundRectangle 10" HeightRequest="90" StrokeThickness="0" >
                            <Border.GestureRecognizers>
                                <TapGestureRecognizer Tapped="AgregarBarbero" />
                            </Border.GestureRecognizers>
                            <Grid>
                                <Image Source="fondoblancoborder.jpg" Aspect="AspectFill" />

                            <Grid ColumnDefinitions="Auto,*,Auto" Padding="15" VerticalOptions="Center">
                                <Image Grid.Column="0" Source="agregarbarberos.png" WidthRequest="40" HeightRequest="30" />
                                <Label Grid.Column="1" Text="Agregar Barbero" TextColor="black" FontSize="20" VerticalOptions="Center" Margin="10,0,0,0"/>
                                <Image Grid.Column="2" Source="chevron.png" WidthRequest="30" HeightRequest="30" />
                            </Grid>
                            </Grid>
                        </Border>

                        <Border BackgroundColor="#90A4AE" StrokeShape="RoundRectangle 10" HeightRequest="90" StrokeThickness="0" >
                            <Border.GestureRecognizers>
                                <TapGestureRecognizer Tapped="ListarBarberos" />
                            </Border.GestureRecognizers>
                            <Grid>
                                <Image Source="fondoblancoborder.jpg" Aspect="AspectFill" />

                            <Grid ColumnDefinitions="Auto,*,Auto" Padding="15" VerticalOptions="Center">
                                <Image Grid.Column="0" Source="listarbarberos.png" WidthRequest="40" HeightRequest="40" />
                                <Label Grid.Column="1" Text="Listar Barberos" TextColor="black" FontSize="20" VerticalOptions="Center" Margin="10,0,0,0"/>
                                <Image Grid.Column="2" Source="chevron.png" WidthRequest="30" HeightRequest="30" />
                            </Grid>
                            </Grid>
                        </Border>

                        <!-- Gestión de Clientes -->
                        <Label Text="Gestión de Clientes" FontSize="18" TextColor="#E0F7FA" FontAttributes="Bold" Margin="0,20,0,0" />

                        <Border BackgroundColor="#90A4AE" StrokeShape="RoundRectangle 10" HeightRequest="90" StrokeThickness="0" >
                            <Border.GestureRecognizers>
                                <TapGestureRecognizer Tapped="ListarClientes" />
                            </Border.GestureRecognizers>
                            <Grid>
                                <Image Source="fondoblancoborder.jpg" Aspect="AspectFill" />

                            <Grid ColumnDefinitions="Auto,*,Auto" Padding="15" VerticalOptions="Center">
                                <Image Grid.Column="0" Source="listarclientes.png" WidthRequest="40" HeightRequest="40" />
                                <Label Grid.Column="1" Text="Listar Clientes" TextColor="black" FontSize="20" VerticalOptions="Center" Margin="10,0,0,0"/>
                                <Image Grid.Column="2" Source="chevron.png" WidthRequest="30" HeightRequest="30" />
                            </Grid>
                            </Grid>
                        </Border>

                        <!-- Reportes -->
                        <Label Text="Reportes" FontSize="18" TextColor="#E0F7FA" FontAttributes="Bold" Margin="0,20,0,0" />

                        <Grid>
                            <Border BackgroundColor="#90A4AE" StrokeShape="RoundRectangle 10" HeightRequest="90" StrokeThickness="0">
                                <Border.GestureRecognizers>
                                    <TapGestureRecognizer Tapped="VerCitas" />
                                </Border.GestureRecognizers>
                                <Grid>
                                    <Image Source="fondoblancoborder.jpg" Aspect="AspectFill" />

                                <Grid ColumnDefinitions="Auto,*,Auto" Padding="15" VerticalOptions="Center">
                                    <Image Grid.Column="0" Source="vertodaslascitas.png" WidthRequest="40" HeightRequest="40" />
                                    <Label Grid.Column="1" Text="Ver Todas las Citas" TextColor="black" FontSize="20" VerticalOptions="Center" Margin="10,0,0,0"/>
                                    <Image Grid.Column="2" Source="chevron.png" WidthRequest="30" HeightRequest="30" />
                                </Grid>
                                </Grid>
                            </Border>

                            <Border x:Name="BadgeVerCitasMes" IsVisible="True" BackgroundColor="Red" StrokeShape="RoundRectangle 20" Padding="10,5" StrokeThickness="0" HorizontalOptions="End" VerticalOptions="Start" Margin="0,-10,-10,0">
                                <Label x:Name="NumeroVerCitasMes" Text="1" TextColor="White" FontAttributes="Bold" HorizontalOptions="Center" VerticalOptions="Center"/>
                            </Border>
                        </Grid>

                        <Label Text="Servicios" FontSize="18" TextColor="#E0F7FA" FontAttributes="Bold" Margin="0,20,0,0" />

                        <Border BackgroundColor="#90A4AE" StrokeShape="RoundRectangle 10" HeightRequest="90" StrokeThickness="0" >
                            <Border.GestureRecognizers>
                                <TapGestureRecognizer Tapped="GestionDeServicios" />
                            </Border.GestureRecognizers>
                            <Grid>
                                <Image Source="fondoblancoborder.jpg" Aspect="AspectFill" />

                            <Grid ColumnDefinitions="Auto,*,Auto" Padding="15" VerticalOptions="Center">
                                <Image Grid.Column="0" Source="gestionarservicio.png" WidthRequest="40" HeightRequest="40" />
                                <Label Grid.Column="1" Text="Gestionar Servicios" TextColor="black" FontSize="20" VerticalOptions="Center" Margin="10,0,0,0"/>
                                <Image Grid.Column="2" Source="chevron.png" WidthRequest="30" HeightRequest="30" />
                            </Grid>
                            </Grid>
                        </Border>
                        <Label Text="Barberias" FontSize="18" TextColor="#E0F7FA" FontAttributes="Bold" Margin="0,20,0,0" />
                        <Border BackgroundColor="#90A4AE" StrokeShape="RoundRectangle 10" HeightRequest="90" StrokeThickness="0" >
                            <Border.GestureRecognizers>
                                <TapGestureRecognizer Tapped="GestionDeBarberias" />
                            </Border.GestureRecognizers>
                            <Grid>
                                <Image Source="fondoblancoborder.jpg" Aspect="AspectFill" />

                            <Grid ColumnDefinitions="Auto,*,Auto" Padding="15" VerticalOptions="Center">
                                <Image Grid.Column="0" Source="gestionarbarberia.png" WidthRequest="40" HeightRequest="40" />
                                <Label Grid.Column="1" Text="Gestionar Barberias" TextColor="black" FontSize="20" VerticalOptions="Center" Margin="10,0,0,0"/>
                                <Image Grid.Column="2" Source="chevron.png" WidthRequest="30" HeightRequest="30" />
                            </Grid>
                            </Grid>
                        </Border>

                    </VerticalStackLayout>

                    <!-- SuperAdminView -->
                    <VerticalStackLayout x:Name="SuperAdminView" IsVisible="false" Padding="20" Spacing="17">
                        <Label Text="Solicitudes de Administrador" FontSize="18" TextColor="#E0F7FA" FontAttributes="Bold" Margin="0,20,0,0" />
                        <Grid>
                            <Border BackgroundColor="#90A4AE" StrokeShape="RoundRectangle 10" HeightRequest="90" StrokeThickness="0">
                                <Border.GestureRecognizers>
                                    <TapGestureRecognizer Tapped="VerSolicitudesAdmin" />
                                </Border.GestureRecognizers>
                                <Grid>
                                    <Image Source="fondoblancoborder.jpg" Aspect="AspectFill" />

                                <Grid ColumnDefinitions="Auto,*,Auto" Padding="15" VerticalOptions="Center">
                                    <Image Grid.Column="0" Source="gestionarsolicitudes.png" WidthRequest="40" HeightRequest="40" />
                                    <Label Grid.Column="1" Text="Ver Solicitudes" TextColor="Black" FontSize="20" VerticalOptions="Center" Margin="10,0,0,0"/>
                                    <Image Grid.Column="2" Source="chevron.png" WidthRequest="30" HeightRequest="30" />
                                </Grid>
                                </Grid>
                            </Border>

                            <Border x:Name="BadgeSolicitudes" IsVisible="True" BackgroundColor="Red" StrokeShape="RoundRectangle 20" Padding="10,5" StrokeThickness="0" HorizontalOptions="End" VerticalOptions="Start" Margin="0,-10,-10,0">
                                <Label x:Name="NumeroSolicitudes" Text="1" TextColor="White" FontAttributes="Bold" HorizontalOptions="Center" VerticalOptions="Center"/>
                            </Border>
                        </Grid>



                        <Border BackgroundColor="#90A4AE" StrokeShape="RoundRectangle 10" HeightRequest="90" StrokeThickness="0">
                            <Border.GestureRecognizers>
                                <TapGestureRecognizer Tapped="VerHistorialSolicitudes" />
                            </Border.GestureRecognizers>
                            <Grid>
                                <Image Source="fondoblancoborder.jpg" Aspect="AspectFill" />

                            <Grid ColumnDefinitions="Auto,*,Auto" Padding="15" VerticalOptions="Center">
                                <Image Grid.Column="0" Source="historialdesolicitudes.png" WidthRequest="40" HeightRequest="40" />
                                <Label Grid.Column="1" Text="Historial de Solicitudes" TextColor="Black" FontSize="20" VerticalOptions="Center" Margin="10,0,0,0"/>
                                <Image Grid.Column="2" Source="chevron.png" WidthRequest="30" HeightRequest="30" />
                            </Grid>
                            </Grid>
                        </Border>

                        <Label Text="Gestión de Administradores" FontSize="18" TextColor="#E0F7FA" FontAttributes="Bold" Margin="0,20,0,0" />
                        <Border BackgroundColor="#90A4AE" StrokeShape="RoundRectangle 10" HeightRequest="90" StrokeThickness="0" >
                            <Border.GestureRecognizers>
                                <TapGestureRecognizer Tapped="GestionarAdministradores" />
                            </Border.GestureRecognizers>
                            <Grid>
                                <Image Source="fondoblancoborder.jpg" Aspect="AspectFill" />

                            <Grid ColumnDefinitions="Auto,*,Auto" Padding="15" VerticalOptions="Center">
                                <Image Grid.Column="0" Source="gestionaradministrador.png" WidthRequest="40" HeightRequest="40" />
                                <Label Grid.Column="1" Text="Gestionar Administradores" TextColor="Black" FontSize="20" VerticalOptions="Center" Margin="10,0,0,0"/>
                                <Image Grid.Column="2" Source="chevron.png" WidthRequest="30" HeightRequest="30" />
                            </Grid>
                            </Grid>
                        </Border>
                        <Label Text="Gestión de Barberias" FontSize="18" TextColor="#E0F7FA" FontAttributes="Bold" Margin="0,20,0,0" />
                        <Border BackgroundColor="#90A4AE" StrokeShape="RoundRectangle 10" HeightRequest="90" StrokeThickness="0" >
                            <Border.GestureRecognizers>
                                <TapGestureRecognizer Tapped="VerTodasBarberias" />
                            </Border.GestureRecognizers>
                            <Grid>
                                <Image Source="fondoblancoborder.jpg" Aspect="AspectFill" />

                            <Grid ColumnDefinitions="Auto,*,Auto" Padding="15" VerticalOptions="Center">
                                <Image Grid.Column="0" Source="gestionarbarberia.png" WidthRequest="40" HeightRequest="40" />
                                <Label Grid.Column="1" Text="Todas las Barberías" TextColor="Black" FontSize="20" VerticalOptions="Center" Margin="10,0,0,0"/>
                                <Image Grid.Column="2" Source="chevron.png" WidthRequest="30" HeightRequest="30" />
                            </Grid>
                            </Grid>
                        </Border>
                        <Label Text="Gestión de Usuarios" FontSize="18" TextColor="#E0F7FA" FontAttributes="Bold" Margin="0,20,0,0" />
                        <Border BackgroundColor="#90A4AE" StrokeShape="RoundRectangle 10" HeightRequest="90" StrokeThickness="0" >
                            <Border.GestureRecognizers>
                                <TapGestureRecognizer Tapped="TodosUsuarios" />
                            </Border.GestureRecognizers>
                            <Grid>
                                <Image Source="fondoblancoborder.jpg" Aspect="AspectFill" />

                            <Grid ColumnDefinitions="Auto,*,Auto" Padding="15" VerticalOptions="Center">
                                <Image Grid.Column="0" Source="listarclientes.png" WidthRequest="40" HeightRequest="40" />
                                <Label Grid.Column="1" Text="Todos los Usuarios" TextColor="Black" FontSize="20" VerticalOptions="Center" Margin="10,0,0,0"/>
                                <Image Grid.Column="2" Source="chevron.png" WidthRequest="30" HeightRequest="30" />
                            </Grid>
                            </Grid>
                        </Border>
                    </VerticalStackLayout>

                </VerticalStackLayout>
            </ScrollView>
            <controls:LoadingControl x:Name="LoadingIndicator" IsVisible="False"/>
        </Grid>
    </Grid>
</ContentPage>