<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Barber.Maui.BrandonBarber.Pages.EditarPerfilPage"
             BackgroundColor="#0E2A36" xmlns:controls="clr-namespace:Barber.Maui.BrandonBarber.Controls" Grid.RowSpan="1">
    <Grid>
        <Grid.Background>
            <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                <GradientStop Color="#0E2A36" Offset="0.0" />
                <GradientStop Color="#226C8F" Offset="1.0" />
            </LinearGradientBrush>
        </Grid.Background>
        <Grid Padding="20">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <ScrollView VerticalScrollBarVisibility="Never" HorizontalScrollBarVisibility="Never" Grid.Row="1">
                <VerticalStackLayout Spacing="15">
                    <Border Grid.Column="0" BackgroundColor="#90A4AE" StrokeShape="RoundRectangle 10" Padding="0" HeightRequest="140" WidthRequest="110" StrokeThickness="0">
                        <Image x:Name="PerfilImage" Aspect="AspectFill">
                            <Image.Clip>
                                <RoundRectangleGeometry CornerRadius="10" Rect="0,0,110,140" />
                            </Image.Clip>
                        </Image>
                    </Border>

                    <!--<Button
Text="Cambiar imagen"
Style="{StaticResource ProfileButtonStyle}"
Clicked="OnCambiarImagenClicked"
HorizontalOptions="Center"
WidthRequest="200">

                        <Button.Background>
                            <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                <GradientStop Color="#FF6F91" Offset="0.0" />
                                <GradientStop Color="#FFA3BA" Offset="1.0" />
                            </LinearGradientBrush>
                        </Button.Background>

                    </Button>-->
                    <Button Text="Cambiar imagen"  Style="{StaticResource ProfileButtonStyle}" BackgroundColor="#FF6F91" Clicked="OnCambiarImagenClicked" HorizontalOptions="Center" WidthRequest="200"/>

                    <VerticalStackLayout Spacing="5">
                        <Label Text="Nombre completo" Style="{StaticResource ProfileLabelStyle}" />
                        <Border StrokeShape="RoundRectangle 10" Padding="0" BackgroundColor="#E0F7FA" StrokeThickness="0">
                            <Entry x:Name="NombreEntry" Margin="10,0" Text="xxx" Style="{StaticResource ProfileEntryStyle}" Placeholder="Nombre completo"/>
                        </Border>
                    </VerticalStackLayout>

                    <VerticalStackLayout Spacing="5">
                        <Label Text="Telefono" Style="{StaticResource ProfileLabelStyle}" />
                        <Border StrokeShape="RoundRectangle 10" Padding="0"  BackgroundColor="#E0F7FA" StrokeThickness="0">
                            <Entry x:Name="TelefonoEntry" Margin="10,0"  Text="###" Style="{StaticResource ProfileEntryStyle}"  Placeholder="Numero de telefono" Keyboard="Telephone" />
                        </Border>
                    </VerticalStackLayout>

                    <VerticalStackLayout Spacing="5">
                        <Label Text="Correo electronico" Style="{StaticResource ProfileLabelStyle}" />
                        <Border StrokeShape="RoundRectangle 10" Padding="0"  BackgroundColor="#E0F7FA" StrokeThickness="0">
                            <Entry x:Name="EmailEntry" Margin="10,0" Style="{StaticResource ProfileEntryStyle}"  Placeholder="Correo electronico" Keyboard="Email" />
                        </Border>
                    </VerticalStackLayout>

                    <VerticalStackLayout Spacing="5">
                        <Label Text="Direccion" Style="{StaticResource ProfileLabelStyle}" />
                        <Border StrokeShape="RoundRectangle 10" Padding="0" BackgroundColor="#E0F7FA" StrokeThickness="0">
                            <Entry x:Name="DireccionEntry" Margin="10,0" Style="{StaticResource ProfileEntryStyle}" Placeholder="Direccion" />
                        </Border>
                    </VerticalStackLayout>
                    <!-- Después de DireccionEntry y antes de EspecialidadesContainer -->

                    <VerticalStackLayout x:Name="BarberiaActualContainer" Spacing="15" IsVisible="False">
                        <Border BackgroundColor="#E0F7FA" StrokeShape="RoundRectangle 16" Padding="0" StrokeThickness="0">
                            <VerticalStackLayout Spacing="0">
                                <Border BackgroundColor="#184557" Padding="10" StrokeThickness="0" StrokeShape="RoundRectangle 16,16,0,0">
                                    <Border.Background>
                                        <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                            <GradientStop Color="#226C8F" Offset="0.0" />
                                            <GradientStop Color="#0E2A36" Offset="1.0" />
                                        </LinearGradientBrush>
                                    </Border.Background>
                                    <Label Text="Tu barbería actual" TextColor="White" FontSize="16" FontAttributes="Bold"/>
                                </Border>
                                <Grid Padding="15" ColumnDefinitions="70,*" ColumnSpacing="15">
                                    <Border Grid.Column="0" WidthRequest="70" HeightRequest="70" StrokeShape="RoundRectangle 35" BackgroundColor="#E0F7FA" VerticalOptions="Center" StrokeThickness="0">
                                        <Image x:Name="BarberiaLogoImage" Source="picture.png" Aspect="AspectFill">
                                            <Image.Clip>
                                                <RoundRectangleGeometry CornerRadius="35" Rect="0,0,70,70"/>
                                            </Image.Clip>
                                        </Image>
                                    </Border>
                                    <VerticalStackLayout Grid.Column="1" Spacing="5" VerticalOptions="Center">
                                        <Label x:Name="BarberiaNombreLabel" Text="Nombre de la barbería" TextColor="Black" FontSize="16" FontAttributes="Bold" LineBreakMode="TailTruncation"/>
                                        <Label x:Name="BarberiaDireccionLabel" Text="Dirección" TextColor="Black" FontSize="13" LineBreakMode="TailTruncation"/>
                                        <Label x:Name="BarberiaTelefonoLabel" Text="Teléfono" TextColor="#FF6F91" FontSize="13"/>
                                    </VerticalStackLayout>
                                </Grid>
                            </VerticalStackLayout>
                        </Border>
                    </VerticalStackLayout>


                    <!-- Luego viene EspecialidadesContainer -->

                    <VerticalStackLayout x:Name="EspecialidadesContainer" Spacing="5" IsVisible="False">
                        <Label Text="Especialidades" Style="{StaticResource ProfileLabelStyle}" />
                        <Border StrokeShape="RoundRectangle 10" Padding="0" BackgroundColor="#E0F7FA" StrokeThickness="0">
                            <Entry x:Name="EspecialidadesEntry" Margin="10,0" Style="{StaticResource ProfileEntryStyle}" Placeholder="Ej: Corte clásico, Barba, Afeitado" />
                        </Border>
                    </VerticalStackLayout>
                    <Border x:Name="CambiarBarberiaContainer" BackgroundColor="#28475C" StrokeShape="RoundRectangle 15" HorizontalOptions="Fill" Padding="15" StrokeThickness="0" IsVisible="False">
                        <Border.Background>
                            <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                <GradientStop Color="#226C8F" Offset="0.0" />
                                <GradientStop Color="#0E2A36" Offset="1.0" />
                            </LinearGradientBrush>
                        </Border.Background>
                        <VerticalStackLayout Spacing="20" HorizontalOptions="Center">
                            <Label Text="¿Quieres Cambiar De Barberia?" TextColor="White" FontSize="15" HorizontalOptions="Center" HorizontalTextAlignment="Center" />

                            <Button Text="Cambiar De Barberia" TextColor="Black" HorizontalOptions="Fill" BackgroundColor="#FF6F91" CornerRadius="15" FontSize="14" FontAttributes="Bold" Clicked="OnCambiarDeBarberia" />
                        </VerticalStackLayout>
                    </Border>
                </VerticalStackLayout>
            </ScrollView>

            <Grid Grid.Row="2" ColumnSpacing="15" Margin="0,20,0,10">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>

                <Button Text="Cancelar" Grid.Column="0" Style="{StaticResource ProfileButtonStyle}" BackgroundColor="#717d7e" Clicked="OnCancelarClicked"/>
                <Button Text="Guardar" Grid.Column="1" Style="{StaticResource ProfileButtonStyle}" BackgroundColor="#FF6F91" Clicked="OnGuardarClicked"/>
            </Grid>
        </Grid>
        <controls:LoadingControl x:Name="LoadingIndicator" IsVisible="False"/>

    </Grid>
</ContentPage>